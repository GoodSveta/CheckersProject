//
//  Game.swift
//  Checkers
//
//  Created by mac on 13.06.22.
//

import Foundation
import UIKit

extension GameViewController {
    
    func queenGrayOfCheckers(gesture: UIPanGestureRecognizer) -> Bool {
        guard let checker = gesture.view, let view_ch = checker.superview else {return true}
        var queenGray: Bool?
        for _ in board.subviews {
            if checker.backgroundColor == .gray, view_ch.tag > 55  {
                queenGray = true
            }
        }
        return queenGray ?? false
    }
    
    func queenWhiteOfCheckers(gesture: UIPanGestureRecognizer) -> Bool {
        guard let checker = gesture.view, let view_ch = checker.superview else {return true}
        var queenWhite: Bool?
        for _ in board.subviews {
            if checker.backgroundColor == .white, view_ch.tag < 8  {
                queenWhite = true
            }
        }
        return queenWhite ?? false
    }

    func canStepGray(gesture: UIPanGestureRecognizer) {
        self.arrayOfPossibleStepsGray.removeAll()
        var filterSevenTop = [UIView]()
        var filterNineTop = [UIView]()
        var filterFourteenTop = [UIView]()
        var filterEighteenTop = [UIView]()
        var filterSevenBottom = [UIView]()
        var filterNineBottom = [UIView]()
        var filterFourteenBottom = [UIView]()
        var filterEighteenBottom = [UIView]()
        
        for view in self.board.subviews {
            if !view.subviews.isEmpty, view.subviews.first?.backgroundColor == .gray || view.subviews.first?.backgroundColor == .blue {
                filterSevenTop = board.subviews.filter{($0.tag == view.tag + 7)}
                filterNineTop = board.subviews.filter{($0.tag == view.tag + 9)}
                filterFourteenTop = board.subviews.filter{($0.tag == view.tag + 14)}
                filterEighteenTop = board.subviews.filter{($0.tag == view.tag + 18)}
                filterSevenBottom = board.subviews.filter{($0.tag == view.tag - 7)}
                filterNineBottom = board.subviews.filter{($0.tag == view.tag - 9)}
                filterFourteenBottom = board.subviews.filter{($0.tag == view.tag - 14)}
                filterEighteenBottom = board.subviews.filter{($0.tag == view.tag - 18)}
                if ((filterSevenTop.first?.subviews.first?.backgroundColor == .white || filterSevenTop.first?.subviews.first?.backgroundColor == .yellow) && filterFourteenTop.first(where: {$0.subviews.isEmpty}) != nil && filterFourteenTop.first?.backgroundColor == .black) || ((filterNineTop.first?.subviews.first?.backgroundColor == .white || filterNineTop.first?.subviews.first?.backgroundColor == .yellow) && filterEighteenTop.first(where: {$0.subviews.isEmpty}) != nil && filterEighteenTop.first?.backgroundColor == .black) || ((filterSevenBottom.first?.subviews.first?.backgroundColor == .white || filterSevenBottom.first?.subviews.first?.backgroundColor == .yellow) && filterFourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && filterFourteenBottom.first?.backgroundColor == .black) || ((filterNineBottom.first?.subviews.first?.backgroundColor == .white || filterNineBottom.first?.subviews.first?.backgroundColor == .white) && filterEighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && filterEighteenBottom.first?.backgroundColor == .black) {
                    self.arrayOfPossibleStepsGray.append(view.tag)
                }
            }
        }
    }
    
    func canStepWhite(gesture: UIPanGestureRecognizer) {
        self.arrayOfPossibleStepsWhite.removeAll()
        var filterSevenTop = [UIView]()
        var filterNineTop = [UIView]()
        var filterFourteenTop = [UIView]()
        var filterEighteenTop = [UIView]()
        var filterSevenBottom = [UIView]()
        var filterNineBottom = [UIView]()
        var filterFourteenBottom = [UIView]()
        var filterEighteenBottom = [UIView]()
        
        for view in self.board.subviews {
            if !view.subviews.isEmpty, view.subviews.first?.backgroundColor == .white || view.subviews.first?.backgroundColor == .yellow {
                filterSevenTop = board.subviews.filter{($0.tag == view.tag + 7)}
                filterNineTop = board.subviews.filter{($0.tag == view.tag + 9)}
                filterFourteenTop = board.subviews.filter{($0.tag == view.tag + 14)}
                filterEighteenTop = board.subviews.filter{($0.tag == view.tag + 18)}
                filterSevenBottom = board.subviews.filter{($0.tag == view.tag - 7)}
                filterNineBottom = board.subviews.filter{($0.tag == view.tag - 9)}
                filterFourteenBottom = board.subviews.filter{($0.tag == view.tag - 14)}
                filterEighteenBottom = board.subviews.filter{($0.tag == view.tag - 18)}
                if ((filterSevenTop.first?.subviews.first?.backgroundColor == .gray || filterSevenTop.first?.subviews.first?.backgroundColor == .blue) && filterFourteenTop.first(where: {$0.subviews.isEmpty}) != nil && filterFourteenTop.first?.backgroundColor == .black) || ((filterNineTop.first?.subviews.first?.backgroundColor == .gray || filterNineTop.first?.subviews.first?.backgroundColor == .blue) && filterEighteenTop.first(where: {$0.subviews.isEmpty}) != nil && filterEighteenTop.first?.backgroundColor == .black) || ((filterSevenBottom.first?.subviews.first?.backgroundColor == .gray || filterSevenBottom.first?.subviews.first?.backgroundColor == .blue) && filterFourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && filterFourteenBottom.first?.backgroundColor == .black) || ((filterNineBottom.first?.subviews.first?.backgroundColor == .gray || filterNineBottom.first?.subviews.first?.backgroundColor == .blue) && filterEighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && filterEighteenBottom.first?.backgroundColor == .black) {
                    self.arrayOfPossibleStepsWhite.append(view.tag)
                }
            }
        }
    }

    func canStepQueenBlue(gesture: UIPanGestureRecognizer) {
        self.arrayOfPossibleStepsQueenBlue.removeAll()
        var sevenTop = [UIView]()
        var nineTop = [UIView]()
        var fourteenTop = [UIView]()
        var eighteenTop = [UIView]()
        var twentyOneTop = [UIView]()
        var twentyEightTop = [UIView]()
        var thirtyFiveTop = [UIView]()
        var fortyTwoTop = [UIView]()
        var fortyNineTop = [UIView]()
        var twentySevenTop = [UIView]()
        var thirtySixTop = [UIView]()
        var fortyFiveTop = [UIView]()
        var fiftyFourTop = [UIView]()
        var sevenBottom = [UIView]()
        var nineBottom = [UIView]()
        var fourteenBottom = [UIView]()
        var eighteenBottom = [UIView]()
        var twentyOneBottom = [UIView]()
        var twentyEightBottom = [UIView]()
        var thirtyFiveBottom = [UIView]()
        var fortyTwoBottom = [UIView]()
        var fortyNineBottom = [UIView]()
        var twentySevenBottom = [UIView]()
        var thirtySixBottom = [UIView]()
        var fortyFiveBottom = [UIView]()
        var fiftyFourBottom = [UIView]()
       
        for view in self.board.subviews {
            if !view.subviews.isEmpty, view.subviews.first?.backgroundColor == .blue {
                sevenTop = board.subviews.filter{($0.tag == view.tag + 7)}
                nineTop = board.subviews.filter{($0.tag == view.tag + 9)}
                fourteenTop = board.subviews.filter{($0.tag == view.tag + 14)}
                eighteenTop = board.subviews.filter{($0.tag == view.tag + 18)}
                sevenBottom = board.subviews.filter{($0.tag == view.tag - 7)}
                nineBottom = board.subviews.filter{($0.tag == view.tag - 9)}
                fourteenBottom = board.subviews.filter{($0.tag == view.tag - 14)}
                eighteenBottom = board.subviews.filter{($0.tag == view.tag - 18)}
                twentyOneTop = board.subviews.filter{($0.tag == view.tag + 21)}
                twentyEightTop = board.subviews.filter{($0.tag == view.tag + 28)}
                thirtyFiveTop = board.subviews.filter{($0.tag == view.tag + 35)}
                fortyTwoTop = board.subviews.filter{($0.tag == view.tag + 42)}
                fortyNineTop = board.subviews.filter{($0.tag == view.tag + 49)}
                twentySevenTop = board.subviews.filter{($0.tag == view.tag + 27)}
                thirtySixTop = board.subviews.filter{($0.tag == view.tag + 36)}
                fortyFiveTop = board.subviews.filter{($0.tag == view.tag + 45)}
                fiftyFourTop = board.subviews.filter{($0.tag == view.tag + 54)}
                
                twentyOneBottom = board.subviews.filter{($0.tag == view.tag - 21)}
                twentyEightBottom = board.subviews.filter{($0.tag == view.tag - 28)}
                thirtyFiveBottom = board.subviews.filter{($0.tag == view.tag - 35)}
                fortyTwoBottom = board.subviews.filter{($0.tag == view.tag - 42)}
                fortyNineBottom = board.subviews.filter{($0.tag == view.tag - 49)}
                twentySevenBottom = board.subviews.filter{($0.tag == view.tag - 27)}
                thirtySixBottom = board.subviews.filter{($0.tag == view.tag - 36)}
                fortyFiveBottom = board.subviews.filter{($0.tag == view.tag - 45)}
                fiftyFourBottom = board.subviews.filter{($0.tag == view.tag - 54)}
                
//                + 14
                if ((sevenTop.first?.subviews.first?.backgroundColor == .white || sevenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first?.backgroundColor == .black) || ((fourteenTop.first?.subviews.first?.backgroundColor == .white || fourteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first?.backgroundColor == .black && sevenTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .white || sevenTop.first?.subviews.first?.backgroundColor == .yellow) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .white || fourteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .white || twentyOneTop.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .white || sevenTop.first?.subviews.first?.backgroundColor == .yellow) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .white || fourteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .white || twentyOneTop.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .white || twentyEightTop.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .white || sevenTop.first?.subviews.first?.backgroundColor == .yellow) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .white || fourteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .white || twentyOneTop.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .white || twentyEightTop.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveTop.first?.subviews.first?.backgroundColor == .white || thirtyFiveTop.first?.subviews.first?.backgroundColor == .yellow) && fortyTwoTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .white || sevenTop.first?.subviews.first?.backgroundColor == .yellow) && fourteenTop.first?.backgroundColor == .black  && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .white || fourteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .white || twentyOneTop.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .white || twentyEightTop.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveTop.first?.subviews.first?.backgroundColor == .white || thirtyFiveTop.first?.subviews.first?.backgroundColor == .yellow) && fortyTwoTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyTwoTop.first?.subviews.first?.backgroundColor == .white || fortyTwoTop.first?.subviews.first?.backgroundColor == .yellow) && fortyNineTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) ||
//                    + 18
                    ((nineTop.first?.subviews.first?.backgroundColor == .white || nineTop.first?.subviews.first?.backgroundColor == .yellow) && eighteenTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .white || eighteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((nineTop.first?.subviews.first?.backgroundColor == .white || nineTop.first?.subviews.first?.backgroundColor == .yellow) && eighteenTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .white || eighteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .white || twentySevenTop.first?.subviews.first?.backgroundColor == .yellow) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineTop.first?.subviews.first?.backgroundColor == .white || nineTop.first?.subviews.first?.backgroundColor == .yellow) && eighteenTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .white || eighteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .white || twentySevenTop.first?.subviews.first?.backgroundColor == .yellow) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixTop.first?.subviews.first?.backgroundColor == .white || thirtySixTop.first?.subviews.first?.backgroundColor == .yellow) && fortyFiveTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineTop.first?.subviews.first?.backgroundColor == .white || nineTop.first?.subviews.first?.backgroundColor == .yellow) && eighteenTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .white || eighteenTop.first?.subviews.first?.backgroundColor == .yellow) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .white || twentySevenTop.first?.subviews.first?.backgroundColor == .yellow) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixTop.first?.subviews.first?.backgroundColor == .white || thirtySixTop.first?.subviews.first?.backgroundColor == .yellow) && fortyFiveTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || (( fortyFiveTop.first?.subviews.first?.backgroundColor == .white || fortyFiveTop.first?.subviews.first?.backgroundColor == .yellow) && fiftyFourTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) ||
//                - 14
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .white || sevenBottom.first?.subviews.first?.backgroundColor == .yellow) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .white || fourteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .white || sevenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .white || fourteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .white || twentyOneBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .white || sevenBottom.first?.subviews.first?.backgroundColor == .yellow) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .white || fourteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .white || twentyOneBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .white || twentyEightBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .white || sevenBottom.first?.subviews.first?.backgroundColor == .yellow) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .white || fourteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .white || twentyOneBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyEightBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .white || twentyEightBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveBottom.first?.subviews.first?.backgroundColor == .white || thirtyFiveBottom.first?.subviews.first?.backgroundColor == .yellow) && fortyTwoBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                    
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .white || sevenBottom.first?.subviews.first?.backgroundColor == .yellow) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .white || fourteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .white || twentyOneBottom.first?.subviews.first?.backgroundColor == .yellow) && twentyEightBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .white || twentyEightBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveBottom.first?.subviews.first?.backgroundColor == .white || thirtyFiveBottom.first?.subviews.first?.backgroundColor == .yellow) && fortyTwoBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyTwoBottom.first?.subviews.first?.backgroundColor == .white || fortyTwoBottom.first?.subviews.first?.backgroundColor == .yellow) && fortyNineBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
 //             - 18
                    ((nineBottom.first?.subviews.first?.backgroundColor == .white || nineBottom.first?.subviews.first?.backgroundColor == .yellow) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .white || eighteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((nineBottom.first?.subviews.first?.backgroundColor == .white || nineBottom.first?.subviews.first?.backgroundColor == .yellow) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .white || eighteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .white || twentySevenBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineBottom.first?.subviews.first?.backgroundColor == .white || nineBottom.first?.subviews.first?.backgroundColor == .yellow) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .white || eighteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .white || twentySevenBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixBottom.first?.subviews.first?.backgroundColor == .white || thirtySixBottom.first?.subviews.first?.backgroundColor == .yellow) && fortyFiveBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineBottom.first?.subviews.first?.backgroundColor == .white || nineBottom.first?.subviews.first?.backgroundColor == .yellow) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .white || eighteenBottom.first?.subviews.first?.backgroundColor == .yellow) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .white || twentySevenBottom.first?.subviews.first?.backgroundColor == .yellow) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixBottom.first?.subviews.first?.backgroundColor == .white || thirtySixBottom.first?.subviews.first?.backgroundColor == .yellow) && fortyFiveBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyFiveBottom.first?.subviews.first?.backgroundColor == .white || fortyFiveBottom.first?.subviews.first?.backgroundColor == .yellow) && fiftyFourBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) {
                    self.arrayOfPossibleStepsQueenBlue.append(view.tag)
                }
            }
        }
    }
    
    func canStepQueenYellow(gesture: UIPanGestureRecognizer) {
        self.arrayOfPossibleStepsQueenYellow.removeAll()
        var sevenTop = [UIView]()
        var nineTop = [UIView]()
        var fourteenTop = [UIView]()
        var eighteenTop = [UIView]()
        var twentyOneTop = [UIView]()
        var twentyEightTop = [UIView]()
        var thirtyFiveTop = [UIView]()
        var fortyTwoTop = [UIView]()
        var fortyNineTop = [UIView]()
        var twentySevenTop = [UIView]()
        var thirtySixTop = [UIView]()
        var fortyFiveTop = [UIView]()
        var fiftyFourTop = [UIView]()
        var sevenBottom = [UIView]()
        var nineBottom = [UIView]()
        var fourteenBottom = [UIView]()
        var eighteenBottom = [UIView]()
        var twentyOneBottom = [UIView]()
        var twentyEightBottom = [UIView]()
        var thirtyFiveBottom = [UIView]()
        var fortyTwoBottom = [UIView]()
        var fortyNineBottom = [UIView]()
        var twentySevenBottom = [UIView]()
        var thirtySixBottom = [UIView]()
        var fortyFiveBottom = [UIView]()
        var fiftyFourBottom = [UIView]()
       
        for view in self.board.subviews {
            if !view.subviews.isEmpty, view.subviews.first?.backgroundColor == .yellow {
                sevenTop = board.subviews.filter{($0.tag == view.tag + 7)}
                nineTop = board.subviews.filter{($0.tag == view.tag + 9)}
                fourteenTop = board.subviews.filter{($0.tag == view.tag + 14)}
                eighteenTop = board.subviews.filter{($0.tag == view.tag + 18)}
                sevenBottom = board.subviews.filter{($0.tag == view.tag - 7)}
                nineBottom = board.subviews.filter{($0.tag == view.tag - 9)}
                fourteenBottom = board.subviews.filter{($0.tag == view.tag - 14)}
                eighteenBottom = board.subviews.filter{($0.tag == view.tag - 18)}
                twentyOneTop = board.subviews.filter{($0.tag == view.tag + 21)}
                twentyEightTop = board.subviews.filter{($0.tag == view.tag + 28)}
                thirtyFiveTop = board.subviews.filter{($0.tag == view.tag + 35)}
                fortyTwoTop = board.subviews.filter{($0.tag == view.tag + 42)}
                fortyNineTop = board.subviews.filter{($0.tag == view.tag + 49)}
                twentySevenTop = board.subviews.filter{($0.tag == view.tag + 27)}
                thirtySixTop = board.subviews.filter{($0.tag == view.tag + 36)}
                fortyFiveTop = board.subviews.filter{($0.tag == view.tag + 45)}
                fiftyFourTop = board.subviews.filter{($0.tag == view.tag + 54)}
                twentyOneBottom = board.subviews.filter{($0.tag == view.tag - 21)}
                twentyEightBottom = board.subviews.filter{($0.tag == view.tag - 28)}
                thirtyFiveBottom = board.subviews.filter{($0.tag == view.tag - 35)}
                fortyTwoBottom = board.subviews.filter{($0.tag == view.tag - 42)}
                fortyNineBottom = board.subviews.filter{($0.tag == view.tag - 49)}
                twentySevenBottom = board.subviews.filter{($0.tag == view.tag - 27)}
                thirtySixBottom = board.subviews.filter{($0.tag == view.tag - 36)}
                fortyFiveBottom = board.subviews.filter{($0.tag == view.tag - 45)}
                fiftyFourBottom = board.subviews.filter{($0.tag == view.tag - 54)}

                if ((sevenTop.first?.subviews.first?.backgroundColor == .gray || sevenTop.first?.subviews.first?.backgroundColor == .blue) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .gray || fourteenTop.first?.subviews.first?.backgroundColor == .blue) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil) || ((sevenTop.first?.subviews.first?.backgroundColor == .gray || sevenTop.first?.subviews.first?.backgroundColor == .blue) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .gray || fourteenTop.first?.subviews.first?.backgroundColor == .blue) && twentyEightTop.first?.backgroundColor == .black && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .gray || twentyOneTop.first?.subviews.first?.backgroundColor == .blue) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .gray || sevenTop.first?.subviews.first?.backgroundColor == .blue) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .gray || fourteenTop.first?.subviews.first?.backgroundColor == .blue) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .gray || twentyOneTop.first?.subviews.first?.backgroundColor == .blue) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .gray || twentyEightTop.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .gray || sevenTop.first?.subviews.first?.backgroundColor == .blue) && fourteenTop.first?.backgroundColor == .black && sevenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .gray || fourteenTop.first?.subviews.first?.backgroundColor == .blue) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .gray || twentyOneTop.first?.subviews.first?.backgroundColor == .blue) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .gray || twentyEightTop.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveTop.first?.subviews.first?.backgroundColor == .gray || thirtyFiveTop.first?.subviews.first?.backgroundColor == .blue) && fortyTwoTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((sevenTop.first?.subviews.first?.backgroundColor == .gray || sevenTop.first?.subviews.first?.backgroundColor == .blue) && fourteenTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenTop.first?.subviews.first?.backgroundColor == .gray || fourteenTop.first?.subviews.first?.backgroundColor == .blue) && twentyOneTop.first?.backgroundColor == .black && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneTop.first?.subviews.first?.backgroundColor == .gray || twentyOneTop.first?.subviews.first?.backgroundColor == .blue) && twentyEightTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightTop.first?.subviews.first?.backgroundColor == .gray || twentyEightTop.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveTop.first?.subviews.first?.backgroundColor == .gray || thirtyFiveTop.first?.subviews.first?.backgroundColor == .blue) && fortyTwoTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyTwoTop.first?.subviews.first?.backgroundColor == .gray || fortyTwoTop.first?.subviews.first?.backgroundColor == .blue) && fortyNineTop.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyOneTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightTop.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fortyNineTop.first(where: {$0.subviews.isEmpty}) != nil) ||
//                    + 18
                    ((nineTop.first?.subviews.first?.backgroundColor == .gray || nineTop.first?.subviews.first?.backgroundColor == .blue) && eighteenTop.first?.backgroundColor == .black && nineTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .gray || eighteenTop.first?.subviews.first?.backgroundColor == .blue) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    
                    ((nineTop.first?.subviews.first?.backgroundColor == .gray || nineTop.first?.subviews.first?.backgroundColor == .blue) && eighteenTop.first?.backgroundColor == .black && nineTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .gray || eighteenTop.first?.subviews.first?.backgroundColor == .blue) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .gray || twentySevenTop.first?.subviews.first?.backgroundColor == .blue) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineTop.first?.subviews.first?.backgroundColor == .gray || nineTop.first?.subviews.first?.backgroundColor == .blue) && eighteenTop.first?.backgroundColor == .black && nineTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .gray || eighteenTop.first?.subviews.first?.backgroundColor == .blue) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .gray || twentySevenTop.first?.subviews.first?.backgroundColor == .blue) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixTop.first?.subviews.first?.backgroundColor == .gray || thirtySixTop.first?.subviews.first?.backgroundColor == .blue) && fortyFiveTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineTop.first?.subviews.first?.backgroundColor == .gray || nineTop.first?.subviews.first?.backgroundColor == .blue) && eighteenTop.first?.backgroundColor == .black && nineTop.first?.backgroundColor == .black && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenTop.first?.subviews.first?.backgroundColor == .gray || eighteenTop.first?.subviews.first?.backgroundColor == .blue) && twentySevenTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenTop.first?.subviews.first?.backgroundColor == .gray || twentySevenTop.first?.subviews.first?.backgroundColor == .blue) && thirtySixTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixTop.first?.subviews.first?.backgroundColor == .gray || thirtySixTop.first?.subviews.first?.backgroundColor == .blue) && fortyFiveTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyFiveTop.first?.subviews.first?.backgroundColor == .gray || fortyFiveTop.first?.subviews.first?.backgroundColor == .blue) && fiftyFourTop.first?.backgroundColor == .black && nineTop.first(where: {$0.subviews.isEmpty}) != nil && eighteenTop.first(where: {$0.subviews.isEmpty}) != nil && twentySevenTop.first(where: {$0.subviews.isEmpty}) != nil && thirtySixTop.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourTop.first(where: {$0.subviews.isEmpty}) != nil) ||
//                - 14
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .gray || sevenBottom.first?.subviews.first?.backgroundColor == .blue) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .gray || fourteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .gray || sevenBottom.first?.subviews.first?.backgroundColor == .blue) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .gray || fourteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenTop.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .gray || twentyOneBottom.first?.subviews.first?.backgroundColor == .blue) && twentyEightBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .gray || sevenBottom.first?.subviews.first?.backgroundColor == .blue) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .gray || fourteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .gray || twentyOneBottom.first?.subviews.first?.backgroundColor == .blue) && twentyEightBottom.first?.backgroundColor == .black && fourteenTop.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .gray || twentyEightBottom.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .gray || sevenBottom.first?.subviews.first?.backgroundColor == .blue) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .gray || fourteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .gray || twentyOneBottom.first?.subviews.first?.backgroundColor == .blue) && twentyEightBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .gray || twentyEightBottom.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveBottom.first?.subviews.first?.backgroundColor == .gray || thirtyFiveBottom.first?.subviews.first?.backgroundColor == .blue) && fortyTwoBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                    
                    ((sevenBottom.first?.subviews.first?.backgroundColor == .gray || sevenBottom.first?.subviews.first?.backgroundColor == .blue) && fourteenBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fourteenBottom.first?.subviews.first?.backgroundColor == .gray || fourteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentyOneBottom.first?.backgroundColor == .black && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyOneBottom.first?.subviews.first?.backgroundColor == .gray || twentyOneBottom.first?.subviews.first?.backgroundColor == .blue) && twentyEightBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentyEightBottom.first?.subviews.first?.backgroundColor == .gray || twentyEightBottom.first?.subviews.first?.backgroundColor == .blue) && thirtyFiveBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil &&  twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtyFiveBottom.first?.subviews.first?.backgroundColor == .gray || thirtyFiveBottom.first?.subviews.first?.backgroundColor == .blue) && fortyTwoBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyTwoBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyTwoBottom.first?.subviews.first?.backgroundColor == .gray || fortyTwoBottom.first?.subviews.first?.backgroundColor == .blue) && fortyNineBottom.first?.backgroundColor == .black && fourteenBottom.first(where: {$0.subviews.isEmpty}) != nil && sevenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyOneBottom.first(where: {$0.subviews.isEmpty}) != nil && twentyEightBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyNineBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
 //             - 18
                    ((nineBottom.first?.subviews.first?.backgroundColor == .gray || nineBottom.first?.subviews.first?.backgroundColor == .blue) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .gray || eighteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                                        
                    ((nineBottom.first?.subviews.first?.backgroundColor == .gray || nineBottom.first?.subviews.first?.backgroundColor == .blue) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .gray || eighteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .gray || twentySevenBottom.first?.subviews.first?.backgroundColor == .blue) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineBottom.first?.subviews.first?.backgroundColor == .gray || nineBottom.first?.subviews.first?.backgroundColor == .blue) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .gray || eighteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .gray || twentySevenBottom.first?.subviews.first?.backgroundColor == .blue) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixBottom.first?.subviews.first?.backgroundColor == .gray || thirtySixBottom.first?.subviews.first?.backgroundColor == .blue) && fortyFiveBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil) ||
                    ((nineBottom.first?.subviews.first?.backgroundColor == .gray || nineBottom.first?.subviews.first?.backgroundColor == .blue) && eighteenBottom.first?.backgroundColor == .black && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((eighteenBottom.first?.subviews.first?.backgroundColor == .gray || eighteenBottom.first?.subviews.first?.backgroundColor == .blue) && twentySevenBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((twentySevenBottom.first?.subviews.first?.backgroundColor == .gray || twentySevenBottom.first?.subviews.first?.backgroundColor == .blue) && thirtySixBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((thirtySixBottom.first?.subviews.first?.backgroundColor == .gray || thirtySixBottom.first?.subviews.first?.backgroundColor == .blue)  && fortyFiveBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && fortyFiveBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) || ((fortyFiveBottom.first?.subviews.first?.backgroundColor == .gray || fortyFiveBottom.first?.subviews.first?.backgroundColor == .blue) && fiftyFourBottom.first?.backgroundColor == .black && nineBottom.first(where: {$0.subviews.isEmpty}) != nil && eighteenBottom.first(where: {$0.subviews.isEmpty}) != nil && twentySevenBottom.first(where: {$0.subviews.isEmpty}) != nil && thirtySixBottom.first(where: {$0.subviews.isEmpty}) != nil && fiftyFourBottom.first(where: {$0.subviews.isEmpty}) != nil) {
                    self.arrayOfPossibleStepsQueenYellow.append(view.tag)
                }
            }
        }
    }
}
